---

title: Matplotlib Exercises — Solutions and Deep Explanations
sidebar_label: Matplotlib Exercises Solutions
sidebar_position: 22
--------------------

## Introduction

Welcome to the **Matplotlib Exercises — Solutions** lecture!
In this final part of the Matplotlib module, we’ll review key exercises that consolidate your understanding of **figure creation**, **axes management**, **subplots**, and **customizations** using the **Object-Oriented (OO) interface**.

By the end of this walkthrough, you’ll not only understand the code but also *why* each step works and *how* to extend it for real-world data visualization.

---

## 1. Creating a Figure and Adding Axes

### Concept Recap

- `plt.figure()` creates a blank **canvas**.
- `fig.add_axes([left, bottom, width, height])` creates **axes** (the actual
  plot area) in normalized figure coordinates (values between 0 and 1).
- The axes object (`ax`) is where we call plotting functions.

### Example

```python
import matplotlib.pyplot as plt
import numpy as np

x_data = np.linspace(0, 10, 100)
y_data = x_data ** 2

fig = plt.figure()
ax = fig.add_axes([0, 0, 1, 1])   # [left, bottom, width, height]
ax.plot(x_data, y_data)
ax.set_xlabel('X')
ax.set_ylabel('Y')
ax.set_title('Simple Plot')
plt.show()
```

### Explanation

- The list `[0, 0, 1, 1]` places the axes to fill the entire figure.
- `ax.plot()` draws the data on those axes.
- You can now add labels and a title using the `set_` prefix methods.

✅ **Key learning:** You always call methods like `set_xlabel` or `set_title` on
the _axes object_, not `plt`.

---

## 2. Adding Multiple Axes (Inset Plots)

### Concept Recap

- Figures can contain **multiple axes** at different positions.
- Useful for creating **zoomed-in views**, **comparisons**, or **insets**.

### Example

```python
fig = plt.figure()

# Main plot
ax1 = fig.add_axes([0, 0, 1, 1])
# Inset or smaller plot
ax2 = fig.add_axes([0.2, 0.5, 0.2, 0.2])

ax1.plot(x_data, y_data)
ax1.set_title('Main Plot')

ax2.plot(x_data, y_data, color='red')
ax2.set_title('Inset Plot')

plt.show()
```

### Explanation

- The smaller axes `[0.2, 0.5, 0.2, 0.2]` is positioned relative to the figure.

  - It starts at 20% from the left and 50% from the bottom,
  - It spans 20% width and height of the total figure area.

- The second axes (`ax2`) can show a magnified section or a different dataset.

✅ **Tip:** Keep insets minimal in size and use distinctive colors for clarity.

---

## 3. Custom Axes Positions and Zoomed Inset

### Example

```python
z_data = x_data ** 3

fig = plt.figure()
ax = fig.add_axes([0, 0, 1, 1])
ax2 = fig.add_axes([0.2, 0.5, 0.4, 0.4])

# Main plot
ax.plot(x_data, z_data)
ax.set_xlabel('X')
ax.set_ylabel('Z')
ax.set_title('Main Plot')

# Inset zoom
ax2.plot(x_data, y_data)
ax2.set_title('Zoom In')
ax2.set_xlabel('X')
ax2.set_ylabel('Y')
ax2.set_xlim(20, 22)
ax2.set_ylim(30, 50)

plt.show()
```

### Explanation

- The second axes acts as a **zoomed region**, focusing on part of the data.
- `set_xlim()` and `set_ylim()` control the visible range of data.
- This is common in scientific papers when focusing on key data points.

✅ **Advanced Use:** You can automate zoom marking using:

```python
from mpl_toolkits.axes_grid1.inset_locator import mark_inset
mark_inset(ax, ax2, loc1=2, loc2=4)
```

---

## 4. Using `plt.subplots()` — Cleaner Multi-Plot Layouts

### Concept Recap

- `plt.subplots()` automatically creates a grid of axes.
- Easier and cleaner than `add_axes()` for structured layouts.

### Example

```python
fig, axes = plt.subplots(1, 2, figsize=(12, 2))

x_data = np.linspace(0, 10, 100)
y_data = x_data ** 2
z_data = x_data ** 3

axes[0].plot(x_data, y_data, color='blue', linestyle='--', linewidth=3)
axes[1].plot(x_data, z_data, color='red', linewidth=3)

axes[0].set_title('Quadratic')
axes[1].set_title('Cubic')

plt.tight_layout()
plt.show()
```

### Explanation

- `plt.subplots(1, 2)` creates **one row with two subplots**.
- `axes` is a NumPy array of `AxesSubplot` objects.
- You can index into it: `axes[0]` and `axes[1]`.
- `figsize` controls the canvas size; `(12, 2)` makes it wide and short.
- `plt.tight_layout()` automatically adjusts spacing.

✅ **Tip:** When you want to align multiple subplots with uniform styling,
prefer `plt.subplots()`.

---

## 5. Combining All: Multi-Plot Dashboard Example

```python
fig, axes = plt.subplots(2, 2, figsize=(10, 6))

axes[0, 0].plot(x_data, y_data, color='green', linestyle='--')
axes[0, 0].set_title('Quadratic')

axes[0, 1].plot(x_data, z_data, color='orange')
axes[0, 1].set_title('Cubic')

axes[1, 0].plot(x_data, np.sqrt(x_data), color='purple')
axes[1, 0].set_title('Square Root')

axes[1, 1].scatter(x_data, y_data, color='red')
axes[1, 1].set_title('Scatter')

plt.tight_layout()
plt.show()
```

### What’s happening:

- A 2×2 grid of plots (four subplots).
- Different data relationships visualized on one canvas.
- Each axes can have independent color, style, and labels.

✅ **Pro tip:** For publication-style visuals, control fonts and spacing
globally with:

```python
plt.rcParams.update({'font.size': 10, 'axes.titlesize': 12})
```

---

## 6. Exercise Insights and Practical Applications

| Concept            | Real-world Example                                       |
| ------------------ | -------------------------------------------------------- |
| `add_axes`         | Overlay small zoom or inset views (e.g., focus on peaks) |
| `subplots`         | Multi-panel dashboards for data comparison               |
| Axis customization | Scientific papers, report graphics                       |
| Titles & labels    | Presentation and publication-quality visuals             |

---

## Advanced Example — Interactive Subplots with Different Styles

```python
styles = ['solid', '--', '-.', ':']
colors = ['blue', 'green', 'red', 'purple']

fig, axes = plt.subplots(2, 2, figsize=(10, 6))

for i, ax in enumerate(axes.flatten()):
    ax.plot(x_data, np.sin(x_data + i), color=colors[i],
            linestyle=styles[i], linewidth=2)
    ax.set_title(f'Plot {i+1}')
    ax.set_xlabel('X')
    ax.set_ylabel('Y')

plt.tight_layout()
plt.show()
```

This approach uses loops to efficiently create multi-style subplots, common in
parameter sweep visualizations.

---

## Key Takeaways

- **Object-Oriented Approach:** All plotting happens on `axes` objects, giving
  better control.
- **Multiple Axes:** `add_axes` allows custom positioning; use it for zoomed
  insets or complex layouts.
- **Subplots Grid:** `plt.subplots()` simplifies multi-plot creation with
  consistent layouts.
- **Customization:** Titles, colors, styles, and axis limits transform basic
  visuals into readable graphics.
- **Reusability:** OO-based plotting scales well for automation and dashboards.

---

## Practice Questions

1. What is the difference between `plt.figure()` and `plt.subplots()`?
2. How do you add multiple axes at arbitrary positions on the same figure?
3. How can you zoom into a region of a plot using Matplotlib?
4. What does the argument `figsize` control in `plt.subplots()`?
5. How do you customize the color and line style of a plot line?
6. What is the benefit of using `plt.tight_layout()`?
7. When should you prefer the object-oriented interface over the pyplot
   interface?
8. Write a code snippet that plots `x²`, `x³`, and `√x` on the same figure with
   different colors.
9. How can you save your Matplotlib figure as an image file?
10. What happens if you set overlapping axes in the same figure?

---

## Answers

1. `plt.figure()` creates a blank canvas, while `plt.subplots()` creates both
   the canvas and one or more subplot axes at once.
2. Use `fig.add_axes([left, bottom, width, height])` for each new axes.
3. Use a smaller inset axes and `set_xlim()`/`set_ylim()` to define the zoom
   window.
4. It controls the figure’s width and height in inches.
5. By passing parameters like `color='red'` and `linestyle='--'` to `plot()`.
6. It automatically adjusts spacing between subplots to prevent overlap.
7. Use the OO interface for complex, multi-axes visualizations and reusable
   scripts.
8. ```python
   plt.plot(x, x**2, color='blue')
   plt.plot(x, x**3, color='green')
   plt.plot(x, np.sqrt(x), color='red')
   plt.show()
   ```
9. `plt.savefig('figure.png', dpi=300, bbox_inches='tight')`
10. The overlapping areas will be drawn in sequence — the last axes drawn will
    appear on top.

---
