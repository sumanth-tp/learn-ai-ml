---

title: NumPy cheatsheet
sidebar_label: NumPy cheatsheet
sidebar_position: 17
--------------------


---

# NumPy Cheatsheet (God-Level)

---

## 1. Importing NumPy

```python
import numpy as np
```

---

## 2. Creating Arrays

### From Python objects

```python
np.array([1, 2, 3])                      # 1D array
np.array([[1, 2], [3, 4]])               # 2D array
np.array([1, 2, 3], dtype=np.float32)    # specify dtype
```

### Special arrays

```python
np.zeros((3, 3))        # 3x3 array of 0s
np.ones((2, 4))         # 2x4 array of 1s
np.full((2, 2), 7)      # constant array
np.eye(3)               # identity matrix
np.empty((2, 3))        # uninitialized
```

### Ranges

```python
np.arange(0, 10, 2)       # [0 2 4 6 8]
np.linspace(0, 1, 5)      # 5 numbers from 0 to 1
np.logspace(0.1, 1, 5)    # log scale values
```

### Random arrays

```python
np.random.rand(3, 2)           # uniform [0,1)
np.random.randn(3, 2)          # normal distribution
np.random.randint(0, 10, (2,3))# random ints
np.random.seed(42)             # reproducibility
```

---

## 3. Inspecting Arrays

```python
arr.shape         # dimensions
arr.ndim          # number of dimensions
arr.size          # total elements
arr.dtype         # data type
arr.itemsize      # size in bytes per element
arr.nbytes        # total bytes
```

---

## 4. Indexing & Slicing

```python
arr[0]              # first element
arr[-1]             # last element
arr[1:5]            # slice
arr[: ,0]           # first column
arr[::2]            # every 2nd element
arr[1, :]           # row 1
arr[:, 1]           # column 1
arr[1:3, 2:4]       # submatrix
```

Boolean / fancy indexing:

```python
arr[arr > 5]
arr[[0, 2, 4]]
```

---

## 5. Array Operations

### Arithmetic

```python
a + b, a - b, a * b, a / b
np.add(a, b)
np.subtract(a, b)
np.multiply(a, b)
np.divide(a, b)
np.power(a, 2)
```

### Aggregate

```python
arr.sum()
arr.mean()
arr.min(), arr.max()
arr.std(), arr.var()
arr.cumsum(), arr.cumprod()
```

### Comparisons

```python
a == b
np.array_equal(a, b)
np.greater(a, b)
```

---

## 6. Linear Algebra

```python
np.dot(a, b)                   # dot product
np.matmul(a, b)                # matrix multiplication
a @ b                           # shortcut
np.linalg.inv(a)               # inverse
np.linalg.det(a)               # determinant
np.linalg.eig(a)               # eigenvalues/vectors
np.linalg.svd(a)               # singular value decomposition
np.linalg.norm(a)              # vector norm
```

---

## 7. Reshaping & Combining

```python
arr.reshape(2, -1)           # reshape, auto-calc
arr.ravel()                  # flatten view
arr.flatten()                # flatten copy
arr.T                        # transpose
np.expand_dims(arr, axis=0)  # add dimension
np.squeeze(arr)              # remove singleton dim
```

### Stacking

```python
np.vstack([a, b])        # vertical
np.hstack([a, b])        # horizontal
np.stack([a, b], axis=0) # new dimension
np.concatenate([a, b])   # concatenate
```

### Splitting

```python
np.split(arr, 3)           # equal parts
np.array_split(arr, 3)     # flexible split
np.vsplit(arr, 2)
np.hsplit(arr, 2)
```

---

## 8. Broadcasting

Automatic expansion of shapes:

```python
a = np.array([1,2,3])
b = 2
a + b    # [3 4 5]
```

Rules: align trailing dimensions, size must match or be 1.

---

## 9. Sorting & Searching

```python
np.sort(arr)               # sort copy
arr.sort()                 # sort in-place
np.argsort(arr)            # indices of sort
np.argmax(arr), np.argmin(arr)
np.where(arr > 0)          # indices condition
np.nonzero(arr)            # non-zero indices
np.unique(arr)             # unique values
```

---

## 10. Useful Utilities

```python
np.clip(arr, 0, 10)       # clamp values
np.round(arr, 2)          # rounding
np.floor(arr), np.ceil(arr)
np.isnan(arr), np.isinf(arr)
np.any(arr), np.all(arr)
```

---

## 11. Data I/O

```python
np.save("file.npy", arr)           # save binary
np.load("file.npy")                # load binary
np.savetxt("file.csv", arr, delimiter=",")
np.loadtxt("file.csv", delimiter=",")
```

---

## 12. Datatypes

```python
arr.astype(np.float32)     # cast
np.int32, np.float64, np.complex_
np.bool_, np.object_, np.str_
```

---

## 13. Advanced Indexing Tricks

```python
arr[::-1]            # reverse
arr[:, ::-1]         # reverse columns
arr[::2, ::2]        # every 2nd element
```

---

## 14. Performance Tips

- Use **vectorized operations** (avoid Python loops).
- Use `np.random.seed()` for reproducibility.
- Use `np.copy()` when you need a deep copy.
- For huge arrays: `np.memmap` for disk-backed arrays.

---
